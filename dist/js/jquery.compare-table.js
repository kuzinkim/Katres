!function(a){"use strict";function e(t){this.inited=t.inited||!1,this.columns=t.columns||1,this.lines=t.lines||10,this.folding=t.folding||!1,this.pagination=t.pagination||!1,this.showArrows=t.showArrows||!0,this.prev=t.prev||"<",this.next=t.next||">",this.duplicate=t.duplicate||!1,this.headerFixed=t.headerFixed||!1,this.responsive=t.responsive||!1}e.prototype.init=function(t){if(this.inited)return!1;this.inited=!0,this.table=t,this.currentColumn=0,this.currentPage=1,this.folded=!1,this.qtyLines=this.lines,this.widthPage=window.innerWidth,this.scrollPage=a(window).scrollTop(),this.changeWidthPage=!1,this.changedScrollPage=!1,this.currentBreakpoint=!1;var i='<a href="#" class="tbtn tbtn_prev tbtn_inactive">'+this.prev+"</a>",e='<a href="#" class="tbtn tbtn_next">'+this.next+"</a>";this.showArrows&&this.table.find(".tctrl").prepend(i).append(e),this.headerFixed&&t.addClass("compareTable_headFix"),this.pagination&&this.addPagination(),this.folding&&this.addFolding(),this.update().events()},e.prototype.update=function(){return this.updateBreakpoint().updateColumns().updateSizeColumns().updatePositionColumns().updateVisibleArrows()},e.prototype.updateBreakpoint=function(){let i=!1,e={};if(this.responsive)for(let t=0;t<this.responsive.length;t++){var n=this.responsive[t];window.innerWidth>=n.breakpoint&&(i=n.breakpoint,e=n.settings)}return i!==this.currentBreakpoint&&a.extend(this,e),this},e.prototype.updateColumns=function(){var t="out"===this.duplicate?"*:not(.dupIn)":"";return"in"===this.duplicate?(this.table.find(".dupIn").removeClass("hide"),this.table.find(".dupOut").addClass("hide")):"out"===this.duplicate&&(this.table.find(".dupOut").removeClass("hide"),this.table.find(".dupIn").addClass("hide")),this.allColumns=this.table.find(".tr").eq(0).children(t).length,this.workColumns=this.allColumns<this.columns?this.allColumns:this.columns,this.table.find(".tw").css({"-webkit-box-flex":2*this.workColumns,flex:2*this.workColumns+" 0 0"}),this},e.prototype.updateSizeColumns=function(){return this.workColumns<this.allColumns?(this.table.find(".tr").children().css("width",100/this.workColumns+"%"),this.table.find(".tr").css("width",this.allColumns*(100/this.workColumns)+"%")):(this.table.find(".tr").children().css("width",100/this.allColumns+"%"),this.table.find(".tr").css("width","100%")),this},e.prototype.updatePositionColumns=function(t){let i;return"prev"===t&&0<this.currentColumn?this.currentColumn--:"next"===t&&this.currentColumn<this.allColumns-this.workColumns&&this.currentColumn++,this.currentColumn>this.allColumns-this.workColumns&&(this.currentColumn=this.allColumns-this.workColumns),i=this.workColumns<this.allColumns?-100/this.workColumns*this.currentColumn:this.currentColumn=0,this.table.find(".tr").css("left",i+"%"),this.table.find(".tbtn_prev").removeClass("tbtn_inactive"),this.table.find(".tbtn_next").removeClass("tbtn_inactive"),0===this.currentColumn?this.table.find(".tbtn_prev").addClass("tbtn_inactive"):this.currentColumn===this.allColumns-this.workColumns&&this.table.find(".tbtn_next").addClass("tbtn_inactive"),this},e.prototype.updateVisibleArrows=function(){return this.workColumns>=this.allColumns||!this.showArrows?(this.table.find(".tbtn_prev").fadeOut(200),this.table.find(".tbtn_next").fadeOut(200)):this.showArrows&&(this.table.find(".tbtn_prev").fadeIn(200),this.table.find(".tbtn_next").fadeIn(200)),this},e.prototype.updatePositionHeader=function(){var t=window.innerWidth<992?a(".header_bottom").innerHeight():0,i=a(window).scrollTop()+t,e=window.innerHeight,t=this.table.innerHeight(),i=i-this.table.offset().top-10,e=t-this.table.find(".thead").innerHeight()-.3*e;return e<i&&0<e?this.table.find(".thead").css("top",e):0<i?this.table.find(".thead").css("top",i):i<=0&&this.table.find(".thead").css("top",0),this},e.prototype.addPagination=function(){var i=Math.ceil(this.table.find(".tline").length/this.lines);let t=this.table.find(".tpaging");var e="";let n="";if(i<2)t.remove(),this.currentPage=1,this.qtyLines=this.lines;else{for(let t=1;t<=i;t++)n+='<button class="tpaging__page button button_page" data-value="'+t+'"><span>'+t+"</span></button>",6<i&&(1===t||t===i-1)&&(n+='<span class="tpaging__dots">...</span>');t[0]?this.table.find(".tpaging__pages").html(n):(e+='<div class="tpaging"><button class="tpaging__more button button_more" data-value="more"><span>�������� ���</span><svg width="20" height="20"><use xlink:href="/upload/images/sprite.svg#arrow"></use></svg></button><div class="tpaging__pages">'+n+"</div></div>",this.table.append(e))}return this.applyPagination().updatePagination(),this},e.prototype.changePagination=function(t){let i=a(t);t=i.attr("data-value");return i.hasClass("active")||("more"===t?(this.qtyLines=this.qtyLines+this.lines,this.currentPage++):"next"===t?(this.qtyLines=this.lines,this.currentPage++):"prev"===t?(this.qtyLines=this.lines,this.currentPage--):(this.qtyLines=this.lines,this.currentPage=+t),this.applyPagination().updatePagination()),this},e.prototype.applyPagination=function(){var i=this.table.find(".tline"),e=this.currentPage*this.lines;let n=e-this.lines;this.qtyLines!==this.lines&&(n=e-this.qtyLines);for(let t=0;t<i.length;t++){const s=a(i[t]);t>=n&&t<e?s.removeClass("hide"):s.addClass("hide")}return this},e.prototype.updatePagination=function(){var i=Math.ceil(this.table.find(".tline").length/this.lines);let t=this.table.find(".tpaging__pages"),e=this.table.find(".tpaging__more"),n=this.table.find(".tpaging__page"),s=this.table.find(".tpaging__dots");var a=this.currentPage;if(t.find("button.active").removeClass("active"),t.find('button[data-value="'+a+'"]').addClass("active"),i===a?e.addClass("hide"):e.removeClass("hide"),3<a?s.eq(0).removeClass("hide"):s.eq(0).addClass("hide"),a<i-2?s.eq(1).removeClass("hide"):s.eq(1).addClass("hide"),6<i)for(let t=1;t<i-1;t++)t>a||t<a-2?n.eq(t).addClass("hide"):n.eq(t).removeClass("hide");return this},e.prototype.addFolding=function(){var t=this.table.find(".thead, .tline").length;let i=this.table.find(".tpaging");return t<=this.lines?(i.remove(),this.folded=!1,this.table.removeClass("foldable folded")):i[0]||(this.folded=!0,this.table.addClass("foldable folded").append('<div class="tpaging tpaging_fold"><button class="tpaging__fold folded" data-value="more"><span>����������</span><span>��������</span><svg width="20" height="20"><use xlink:href="/upload/images/sprite.svg#arrow"></use></svg></button></div>')),this.updateFolding(),this},e.prototype.changeFold=function(t){return this.folded?(this.folded=!1,this.table.removeClass("folded"),a(t).removeClass("folded")):(this.folded=!0,this.table.addClass("folded"),a(t).addClass("folded")),this.updateFolding(!0),this},e.prototype.updateFolding=function(t){let i=this.table.find(".thead, .tline");var e=t?200:0;for(let t=0;t<i.length;t++){const n=i.eq(t);t>=this.lines&&this.folded?n.addClass("folded").slideUp(e):n.removeClass("folded").slideDown(e)}return this},e.prototype.addLine=function(t){return this.pagination&&this.table.find(".tpaging")[0]?this.table.find(".tpaging").before(a(t)):this.table.append(a(t)),this.pagination&&this.addPagination(),this.folding&&this.addFolding(),this},e.prototype.checkWidthPage=function(){var i;this.changeWidthPage||(this.changeWidthPage=!0,i=this,setTimeout(function t(){window.innerWidth===i.widthPage?(i.changeWidthPage=!1,i.update()):setTimeout(t),i.widthPage=window.innerWidth}))},e.prototype.events=function(){var i=this;i.showArrows&&i.table.on("click",".tbtn_prev",function(t){t.preventDefault(),i.updatePositionColumns("prev")}),i.showArrows&&i.table.on("click",".tbtn_next",function(t){t.preventDefault(),i.updatePositionColumns("next")}),i.pagination&&i.table.on("click",".tpaging button",function(t){t.preventDefault(),i.changePagination(this)}),i.folding&&i.table.on("click",".tpaging button",function(t){t.preventDefault(),i.changeFold(this)}),i.responsive&&a(window).on("resize",function(){i.checkWidthPage()}),i.headerFixed&&a(window).on("scroll",function(){i.updatePositionHeader()})},a.fn.compareTable=function(t){if(!a(this)[0])return console.warn('No elements for create "Compare Table"'),this;1<a(this).length&&console.warn('Use one element for create "Compare Table"');const i=new e(t);return i.init(a(this).eq(0)),i}}(jQuery);